## 硬件结构

#### 1.CPU如何执行程序

##### 图灵机工作方式

图灵机基本组成：

- 一条无限长的纸带，写入字符
- 读写头，读取任意格子字符，写入任意格子字符
- 读写头有一些部件
  - 存储单元存放数据
  - 控制单元识别字符是数据还是指令，控制程序流程
  - 运算单元用于执行运算指令

****

##### 冯诺依曼模型

冯诺依曼依据图灵机提出了计算机具体实现的报告，定义计算机基本结构5个部分：中央处理器（CPU）、内存、输入设备、输出设备、总线

- **内存** 存储区域呈线性排列，从0开始，最小存储单位为字节，1 byte = 8 bit
- **中央处理器（CPU）** 32位一次可以计算4个字节，64位一次可以计算8个字节，这里的位通常指位宽
- **总线** 地址总线负责指定操作的内存地址；数据总线读写数据；控制总线用于发送和接收信号。
- **输入、输出设备** 例如键盘，通过控制总线，和CPU进行交互

****

##### 线路位宽与CPU位宽

- **线路位宽** 低电压代表0，高电压代表1，每条线路传递1bit数据，`2^32=4G`32条则可以操作4G内存。

- 32位最多可以在4G内存中寻址，64位则可以在128G内存中寻址

****

##### 程序执行基本过程

1.CPU读取程序计数器中所需指令的内存地址，再将读取后的指令数据放入指令寄存器

2.判断指令类型和参数，计算类型交给逻辑运算单元， 存储类型交给控制单元

3.程序计数器根据CPU位数自增来达到指向下一条指令的操作

这种不断循环直到程序结束的过程称为CPU的**生命周期**

****

##### a=1+2执行具体过程

1.高级语言编译成汇编代码

2.汇编代码通过汇编器翻译成机器码

CPU中执行过程：

1.编译器将数据存入内存中的数据段

2.编译器将指令存入内存中的正文段

- 存储指令会将数据段中的指定数据放入寄存器中
- 计算指令会将放入寄存器中的数据进行操作，把结果放到寄存器中
- 存储指令将寄存器中的数据放回内存中的数据段中，这个地址为a的内存地址

****

##### 指令

每条指令有对应的机器码，不同CPU有不同的指令集

MIPS指令为32位的整数，高6位代表操作码，剩下的26位分为R、I、J类型

- R用于算术和逻辑操作
- I用于数据传输
- J用于跳转

CPU4级流水线：

1.Fetch（取得指令）控制器操作

2.Decode（指令译码）控制器操作

3.Execution（执行指令）运算器操作

4.Store（数据回写）控制器操作

以上为CPU的一个指令周期

****

##### 指令的类型
